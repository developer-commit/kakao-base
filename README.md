# base bot 프로젝트

이 프로젝트는 **메신저 봇 R** 앱의 **라이노 JS 엔진**에서 작동하도록 설계된 봇 프로그램입니다. **ES5** 표준을 준수하며.
봇을 만들때 사용할 구조를 테스트하기 위해 작성하였습니다.

**실 사용** 에는 추가적인 수정이 요구됩니다.

---

## 프로젝트 개요
- **ES5 기반**: ES6 이상의 기능을 사용하지 않고, 라이노 JS에서 호환되는 문법 사용
- **모듈화 설계**: DTO, DAO, 서비스 계층, 명령어 등을 모듈 단위로 분리하여 관리
- **메신저 봇 R 앱에서 실행**: 메신저 봇 R 환경에 최적화된 설계

---

## 프로젝트 구조
```
📦 dbbot
├── 📄 dbbot.js                 # 프로그램 진입점
├── 📂 modules                  # 실제 봇 코드들
│   ├── 📂 dto                  # DTO 모듈 (데이터 전송 객체)
│   │   ├── dto.js              # 공통 DTO 정의
│   │   └── user_dto.js         # 유저 DTO 정의
│   ├── 📂 dao                  # DAO 모듈 (데이터 접근 계층)
│   │   ├── dao.js              # 공통 DAO 정의
│   │   └── user_dao.js         # 유저 DAO 정의
│   ├── 📂 service              # 서비스 모듈 (비즈니스 로직)
│   │   └── user_service.js     # 유저 관련 서비스 로직
│   ├── 📂 command              # 봇 명령어 모듈
│   │   ├── command.js          # 명령어 처리 모듈
│   │   ├── leaderboard.js      # 리더보드 명령어
│   │   ├── reset_user.js       # 유저 초기화 명령어
│   │   ├── info.js             # 정보 제공 명령어
│   │   ├── give.js             # 아이템 지급 명령어
│   │   └── dice.js             # 주사위 명령어
│   ├── main.js                 # 메인 로직 처리
│   ├── message.js              # 메시지 처리 로직
│   └── Polyfill.js             # ES5에서 지원하지 않는 기능 폴리필
```

---

## 주요 기능

1. **명령어 처리**: 테스트 명령어(`give`, `dice`, `info` 등)가 존재합니다. 작동여부를 테스트합니다.
2. **유저 관리**: 유저데이터는 **RAM** 에서만 유효합니다. 저장을 위해서는 sqlite3, mysql과 같은 db로직을 이용해 처리합니다.
3. **서비스 계층**: 명령어 모듈과 유저 DAO를 연결해 비즈니스 로직을 수행합니다.

---

## 설치 및 실행 방법

1. **프로젝트 클론**  
```bash
git clone <repository-url>
cd dbbot
```

---

## 주의사항
- 이 프로젝트는 ES5 표준을 준수하여 최신 Node.js 기능을 사용하지 않습니다.
- 메신저 봇 R 앱의 라이노 JS 환경에서만 동작합니다.
- **실 사용을 위한 봇이 아닌, 테스트용 봇입니다.**
